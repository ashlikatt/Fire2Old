@Save uniquePlayers: List = emptyList();

let GEAR_SWORD: Item = createItem("stone_sword").setName("Evil Sword").hideflags().unbreakable();

// Handled by event
proc onJoin(e: OnJoinEvent) {
    select DEFAULT; // Unnecessary
    giveGear();
    if (uniquePlayers.contains(e.uuid)) {
        uniquePlayers.add(e.uuid);
    }
}

fn giveGear() {
    TARGET::giveItems(GEAR_SWORD);
}